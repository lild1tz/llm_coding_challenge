
# üöú AgroAI: Hermes + Apollo + Superset + LangSmith

**AgroAI** ‚Äî –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ AI-—Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –∞–≥—Ä–æ–ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ—Å—Ç–∏, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ –≤ —Ä–∞–º–∫–∞—Ö **LLM Coding Challenge** –¥–ª—è –∫–æ–º–ø–∞–Ω–∏–∏ **–ê–≥—Ä–æ–ü—Ä–æ–≥—Ä–µ—Å—Å**. –°–∏—Å—Ç–µ–º–∞ –≤–∫–ª—é—á–∞–µ—Ç –¥–≤–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞ ‚Äî **Hermes** (–Ω–∞ Go) –∏ **Apollo** (–Ω–∞ Python/FastAPI), –∞ —Ç–∞–∫–∂–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ —Å:

- **Apache Superset** ‚Äî –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤,
- **LangSmith** ‚Äî –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏ LLM-–∑–∞–ø—Ä–æ—Å–æ–≤ –∏ —Ç–æ–∫–µ–Ω–æ–≤.
---
## üéØ –ü—Ä–æ–±–ª–µ–º–∞

- –ê–≥—Ä–æ–Ω–æ–º—ã —á–∞—Å—Ç–æ –ø–µ—Ä–µ–¥–∞—é—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–æ–¥–µ–ª–∞–Ω–Ω–æ–π —Ä–∞–±–æ—Ç–µ –≤ –≤–∏–¥–µ —Å–≤–æ–±–æ–¥–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –∏–ª–∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π —Ç–∞–±–ª–∏—Ü. –†—É—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–∞–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö –∑–∞–Ω–∏–º–∞–µ—Ç –º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏, –ø–æ–¥–≤–µ—Ä–∂–µ–Ω–∞ –æ—à–∏–±–∫–∞–º –∏ –∑–∞—Ç—Ä—É–¥–Ω—è–µ—Ç –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–π –∞–Ω–∞–ª–∏–∑. Apollo —Ä–µ—à–∞–µ—Ç —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É, –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É—è –ø—Ä–æ—Ü–µ—Å—Å –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –∫–ª—é—á–µ–≤–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.
---
## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ AgroAI

### üõ∞ Hermes (–º—É–ª—å—Ç–∏–∫–∞–Ω–∞–ª—å–Ω—ã–π —à–ª—é–∑)
- üì• –ü—Ä–∏—ë–º —Å–æ–æ–±—â–µ–Ω–∏–π –∞–≥—Ä–æ–Ω–æ–º–æ–≤ –∏–∑ **Telegram** –∏ **WhatsApp** (—Ç–µ–∫—Å—Ç, —Ñ–æ—Ç–æ, –∞—É–¥–∏–æ)
- üßπ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π
- üîÅ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö –≤ **Apollo**
- üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ä–∏–≥–∏–Ω–∞–ª–æ–≤ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ **PostgreSQL**
- ‚òÅÔ∏è –ó–∞–≥—Ä—É–∑–∫–∞ –º–µ–¥–∏–∞—Ñ–∞–π–ª–æ–≤ –≤ **Google Drive**
- ‚öôÔ∏è –†–∞–±–æ—Ç–∞ —Å –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã–º–∏ —á–∞—Ç–∞–º–∏ (whitelist ID)

### ü§ñ Apollo (AI-–æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π)
- üß† **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏–∑ —Ç–µ–∫—Å—Ç–æ–≤** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –∏–∑ —Å–æ–æ–±—â–µ–Ω–∏–π –∞–≥—Ä–æ–Ω–æ–º–æ–≤
- üßæ **–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è** ‚Äî –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª–µ–≤—ã–º –æ—Ç—á—ë—Ç–æ–º
- üñºÔ∏è **–û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ç–æ** ‚Äî –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å —Ç–∞–±–ª–∏—Ü–∞–º–∏
- üéß **–¢—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏—è –∞—É–¥–∏–æ** ‚Äî —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏ –∏–∑ –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- üß≠ **–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** ‚Äî –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞–º `cultures`, `operations`, `units`
- üîÅ **–ì–∏–±–∫–æ—Å—Ç—å** ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ —Ä–∞–∑–ª–∏—á–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ –ø–æ–ª–Ω–æ—Ç—ã
- üì¶ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** ‚Äî –ª–µ–≥–∫–æ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö (Docker), –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ

### üìä Superset (BI-–∞–Ω–∞–ª–∏—Ç–∏–∫–∞)
- üìà –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –¥–∞—à–±–æ—Ä–¥—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ **PostgreSQL**
- üîç –ê–Ω–∞–ª–∏–∑ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ –æ–ø–µ—Ä–∞—Ü–∏—è–º, –∫—É–ª—å—Ç—É—Ä–∞–º, –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è–º
- üóìÔ∏è –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞: –¥–∏–Ω–∞–º–∏–∫–∞ –æ–±—ä—ë–º–æ–≤ –∏ –≤–∞–ª–æ–≤–æ–≥–æ —Å–±–æ—Ä–∞
- üåç –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≥–µ–æ–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ (–ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç)

### üîé LangSmith (LLM-–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥)
- üßµ –ü–æ–ª–Ω–∞—è —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ LLM-—Ü–µ–ø–æ—á–µ–∫ –æ—Ç **LangChain**
- üìä –ü–æ–¥—Å—á—ë—Ç –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤ (input/output)
- üêû –û—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ–º—Ç–æ–≤ –∏ —Ü–µ–ø–æ—á–µ–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏
- üìÅ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á –ø–æ –ø—Ä–æ–µ–∫—Ç–∞–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è, —Ä–∞–∑–º–µ—Ç–∫–∞, –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è)

---
## –°–µ—Ä–≤–∏—Å—ã –∏ –∏—Ö —Ä–æ–ª–∏

| –°–µ—Ä–≤–∏—Å            | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                                                                     |
|-------------------|-------------------------------------------------------------------------------------------------|
| **Hermes**        | –®–ª—é–∑ —Å–æ–æ–±—â–µ–Ω–∏–π: –ø—Ä–∏—ë–º, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è, –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –∏–∑¬†WhatsApp¬†/¬†Telegram –≤¬†–¥–∞–ª—å–Ω–µ–π—à–∏–µ –º–æ–¥—É–ª–∏.    |
| **Apollo**        | LLM‚Äë—Å–µ—Ä–≤–∏—Å: –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–µ–π, —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤, –∞—É–¥–∏–æ, —Ñ–æ—Ç–æ.                        |
| **PostgreSQL**    | –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö (–º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ, –ª–æ–≥–∏, —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏).                  |
| **Google¬†Drive**  | –û–±—ä–µ–∫—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –¥–æ–∫—É–º–µ–Ω—Ç—ã, –∞—Ä—Ö–∏–≤—ã –æ—Ç—á—ë—Ç–æ–≤).               |
| **Apache¬†Superset** | –í–∏–∑—É–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∞–≥—Ä–æ–¥–∞–Ω–Ω—ã—Ö: –¥–∞—à–±–æ—Ä–¥—ã, Ad‚Äëhoc‚Äë–∑–∞–ø—Ä–æ—Å—ã, –æ—Ç—á—ë—Ç—ã –¥–ª—è –º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç–∞.            |
| **LangSmith**     | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ LLM‚Äë—Ü–µ–ø–æ—á–µ–∫ (tracing), –º–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞, –∞–ª–µ—Ä—Ç—ã –Ω–∞ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏—é –º–æ–¥–µ–ª–µ–π.              |


## üì¶ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### üîó –°–≤—è–∑—å –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏

- Hermes ‚ÜîÔ∏è Telegram/WhatsApp ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π
- Hermes ‚ÜîÔ∏è Apollo ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ —á–µ—Ä–µ–∑ REST API
- Hermes ‚ÜîÔ∏è PostgreSQL ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ä–∏–≥–∏–Ω–∞–ª–æ–≤ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- Hermes ‚ÜîÔ∏è Google Drive ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ –º–µ–¥–∏–∞—Ñ–∞–π–ª–æ–≤
- Superset ‚ÜîÔ∏è PostgreSQL ‚Äî –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö –¥–∞—à–±–æ—Ä–¥–æ–≤

### üõ∞Ô∏è Hermes (Go)

```Hermes``` ‚Äî –º—É–ª—å—Ç–∏–∫–∞–Ω–∞–ª—å–Ω—ã–π —à–ª—é–∑, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—â–∏–π –≤—Ö–æ–¥—è—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∞–≥—Ä–æ–Ω–æ–º–æ–≤.

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ **Telegram** –∏ **WhatsApp**;
- –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è: Apollo API (—Ç–µ–∫—Å—Ç, –∞—É–¥–∏–æ, —Ñ–æ—Ç–æ);
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π;
- –ó–∞–≥—Ä—É–∑–∫–∞ –≤ Google Drive;
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞.

---
## üóÇÔ∏è¬†–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–µ—Ä–≤–∏—Å–∞¬†Hermes

```mermaid
flowchart LR
    %% ---------- –í—Ö–æ–¥—è—â–∏–µ –∫–∞–Ω–∞–ª—ã ----------
    subgraph Inbound
        direction TB
        WA[WhatsApp]
        TG[Telegram]
    end

    %% ---------- Hermes¬†(Ingress) ----------
    H1["Hermes<br/>(ingress)"]

    WA --> H1
    TG --> H1

    %% ---------- –°—Ç–æ—Ä–∏–¥–∂–∏ (Ingress) ----------
    subgraph Storage_In
        direction LR
        D1["Google&nbsp;Drive"]
        PG1[(PostgreSQL)]
    end
    H1 --> D1
    H1 --> PG1

    %% ---------- Apollo ----------
    AP["Apollo<br/>(LLM‚Äë—Å–µ—Ä–≤–∏—Å)"]
    H1 -- "—Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ /¬†—Ñ–ª—É–¥‚Äë—á–µ–∫" --> AP

    %% ---------- LangSmith ----------
    LS["LangSmith<br/>(tracing)"]
    AP -. –º–µ—Ç—Ä–∏–∫–∏ .- LS

    %% ---------- Hermes¬†(Egress) ----------
    H2["Hermes<br/>(egress)"]
    AP --> H2

    %% ---------- –°—Ç–æ—Ä–∏–¥–∂–∏ (Egress) ----------
    subgraph Storage_Out
        direction LR
        D2["Google&nbsp;Drive"]
        PG2[(PostgreSQL)]
    end
    H2 --> D2
    H2 --> PG2

    %% ---------- –ò—Å—Ö–æ–¥—è—â–∏–µ –∫–∞–Ω–∞–ª—ã ----------
    H2 --> WA2[WhatsApp]
    H2 --> TG2[Telegram]

    %% ---------- BI / –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ ----------
    SUP["Apache¬†Superset<br/>(dashboards)"]
    PG2 --> SUP

```
---
## üóÑÔ∏è¬†ER‚Äë—Å—Ö–µ–º–∞ –ë–î¬†Hermes¬†(Mermaid)

```mermaid
erDiagram

    %% === –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ / —Å—É—â–Ω–æ—Å—Ç–∏ –≤–µ—Ä—Ö–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è ===
    worker {
        SERIAL id PK
        varchar(1023) name
    }

    chat_context {
        SERIAL id PK
        timestamp created_at
        varchar(1023) name
    }

    chat {
        SERIAL id PK
        varchar(255) type
        varchar(1023) chat_name
        int  chat_context_id FK
    }

    %% === –ö–∞–Ω–∞–ª—ã —Å–≤—è–∑–∏ ===
    whatsapp {
        SERIAL id PK
        varchar(1023) whatsapp_id
        int  worker_id FK
    }

    telegram {
        SERIAL id PK
        varchar(1023) telegram_id
        int  worker_id FK
    }

    %% === –°–æ–æ–±—â–µ–Ω–∏—è / –∫–æ–Ω—Ç–µ–Ω—Ç ===
    messages {
        SERIAL id PK
        int  worker_id FK
        int  chat_id   FK
        timestamp created_at
        text content
        varchar(1023) role
    }

    verbiage {
        SERIAL id PK
        int  worker_id FK
        int  chat_id   FK
        timestamp created_at
        text content
    }

    images {
        SERIAL id PK
        int  message_id FK
        varchar(1023) image_url
    }

    tables {
        SERIAL id PK
        timestamp created_at
        jsonb data
        int  message_id FK
    }

    %% === –°–µ—Ä–≤–∏—Å–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã ===
    listener {
        SERIAL id PK
        int  worker_id FK
        int  chat_id   FK
        timestamp created_at
    }

    report {
        SERIAL id PK
        int  chat_context_id FK
        timestamp started_at
        timestamp last_updated_at
        timestamp finished_at
    }

    %% ---------- –°–í–Ø–ó–ò ----------
    worker   ||--o{ whatsapp : "–∏–º–µ–µ—Ç"
    worker   ||--o{ telegram : "–∏–º–µ–µ—Ç"
    worker   ||--o{ messages : "–ø–∏—à–µ—Ç"
    worker   ||--o{ verbiage : "–æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç"
    worker   ||--o{ listener : "—Å–ª—É—à–∞–µ—Ç"

    chat_context ||--|{ chat : "–≥—Ä—É–ø–ø–∏—Ä—É–µ—Ç"
    chat_context ||--|{ report : "–æ—Ç—á—ë—Ç—ã"

    chat ||--o{ messages  : "—Å–æ–¥–µ—Ä–∂–∏—Ç"
    chat ||--o{ verbiage  : ""
    chat ||--o{ listener  : ""
    
    messages ||--o{ images : ""
    messages ||--o{ tables : ""
```
---
### ü§ñ Apollo (Python + FastAPI)

```Apollo``` ‚Äî –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –¥–ª—è –∞–≥—Ä–æ—Å–æ–æ–±—â–µ–Ω–∏–π.

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- `process_message` ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞;
- `classify_message` ‚Äî –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ LLM;
- `process_photo` ‚Äî OCR/LLM;
- `transcribe_audio` ‚Äî —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏—è Whisper;
- `change_table` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –ø–æ –∑–∞–ø—Ä–æ—Å—É

**LLM-–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**
- `ChatGPT-4.1`;
- `Whisper-1`;
- `sentence-transformers/all-MiniLM-L6-v2`;
- –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å LangChain –∏ LangSmith.

---
## üß™ API –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã (Apollo)

–í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:8000`

---

### üìç POST `/process_message`

üîπ **–û–ø–∏—Å–∞–Ω–∏–µ:** –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–∞–±–ª–∏—á–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏–∑ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è.

**–ó–∞–ø—Ä–æ—Å:**
```json
{
  "message": "–ü–∞—Ö–æ—Ç–∞ –∑—è–±–∏ –ø–æ–¥ —Å–æ—é\n–ü–æ –ü–£ 7/1402\n–û—Ç–¥ 17 7/141"
}
```
**–û—Ç–≤–µ—Ç:**
```json
{
  "table": [
    {
      "date": null,
      "division": "–ê–û–†",
      "operation": "–ü–∞—Ö–æ—Ç–∞",
      "culture": "–°–æ—è",
      "per_day": 7,
      "per_operation": 1402,
      "val_day": null,
      "val_beginning": null
    }
  ]
}
```

### üìç POST `/classify_message`
üîπ **–û–ø–∏—Å–∞–Ω–∏–µ**: –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è ‚Äî —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –æ–Ω–æ –æ—Ç—á—ë—Ç–æ–º –æ–± –æ–ø–µ—Ä–∞—Ü–∏–∏.

**–ó–∞–ø—Ä–æ—Å:**
```json
{
  "message": "–°–ó–† –æ–∑ –ø—à - 103/557 –≥–∞"
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "probability": 0.98,
  "prediction": 1
}
```
### üìç POST `/process_photo`
üîπ **–û–ø–∏—Å–∞–Ω–∏–µ**: –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ (—Ç–∞–±–ª–∏—Ü—ã).

**–ó–∞–ø—Ä–æ—Å:**
```json
{
  "photo": "BASE64_STRING",
  "type": "jpeg"
}
```
#### **–û—Ç–≤–µ—Ç**: –∞–Ω–∞–ª–æ–≥–∏—á–µ–Ω –æ—Ç–≤–µ—Ç—É /process_message.


### üìç POST `/transcribe_audio`
üîπ **–û–ø–∏—Å–∞–Ω–∏–µ**: –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏ –∏–∑ –∞—É–¥–∏–æ—Ñ–∞–π–ª–∞.

**–ó–∞–ø—Ä–æ—Å:**
```json
{
  "audio": "BASE64_STRING",
  "type": "mp3"
}
```
**–û—Ç–≤–µ—Ç**:
```json
{
  "text": "–ü—Ä–∏–º–µ—Ä —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞"
}
```

### üìç POST `/change_table`
üîπ **–û–ø–∏—Å–∞–Ω–∏–µ**: –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π.

**–ó–∞–ø—Ä–æ—Å:**
```json
{
  "table": [
    {
      "date": "17.04.2025",
      "division": "–Æ–≥",
      "operation": "–ü–∞—Ö–æ—Ç–∞",
      "culture": "–ü—à–µ–Ω–∏—Ü–∞",
      "per_day": 50,
      "per_operation": 150,
      "val_day": null,
      "val_beginning": null
    }
  ],
  "message": "–ò–∑–º–µ–Ω–∏—Ç—å –¥–∞—Ç—É –Ω–∞ 18.04.2025"
}
```
#### **–û—Ç–≤–µ—Ç**: –∞–Ω–∞–ª–æ–≥–∏—á–µ–Ω –æ—Ç–≤–µ—Ç—É /process_message.
---

## üîÑ –°—Ü–µ–Ω–∞—Ä–∏–π –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

- üë®‚Äçüåæ –ê–≥—Ä–æ–Ω–æ–º –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç üì© —Å–æ–æ–±—â–µ–Ω–∏–µ (—Ç–µ–∫—Å—Ç, —Ñ–æ—Ç–æ, –∞—É–¥–∏–æ).
- üì¨ **Hermes**:
  - —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç, –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç;
  - —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –ë–î, Google Drive;
  - –Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –≤ **Apollo**.
- ü§ñ **Apollo**:
  - –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —á–µ—Ä–µ–∑ LLM;
  - –∏–∑–≤–ª–µ–∫–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏ –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç.
- üíæ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ PostgreSQL.
- üìä **Superset** –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö –¥–∞—à–±–æ—Ä–¥–∞—Ö.
- üîé **LangSmith** –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å LLM-–∑–∞–ø—Ä–æ—Å—ã –∏ —Ç–æ–∫–µ–Ω—ã.

---

## ‚öôÔ∏è –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
git clone https://github.com/lild1tz/llm_coding_challenge.git
cd llm_coding_challenge
```

–î–ª—è —Å—Ç–∞—Ä—Ç–∞ –Ω–∞–¥–æ –±—É–¥–µ—Ç –¥–æ–±–∞–≤—Ç—å .env –≤ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã

### apollo

```
# backend/apollo/.env
OPENAI_API_KEY="–≤–∞—à –∫–ª—é—á"
OPENAI_MODEL="gpt-4o"
OPENAI_BASE_URL="https://api.proxyapi.ru/openai/v1" # –∏–ª–∏ –≤–∞—à –ø—Ä–æ–≤–∞–π–¥–µ—Ä
LANGSMITH_TRACING=true
LANGSMITH_ENDPOINT="https://api.smith.langchain.com" # –∏–ª–∏ –≤–∞—à –ø—Ä–æ–≤–∞–π–¥–µ—Ä
LANGSMITH_API_KEY="–≤–∞—à –∫–ª—é—á"
LANGSMITH_PROJECT="–≤–∞—à –ø—Ä–æ–µ–∫—Ç"
BERT_MODEL="sentence-transformers/all-MiniLM-L6-v2"
TRANSCRIBER_MODEL="whisper-1"

```

### hermes

–ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å DRIVE_JSON_KEY –≤–∞–º –Ω–∞–¥–æ –∑–∞—Ä–µ–≥–µ—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ google cloud console –∏ –≤—ã–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç, –∏ —Ç–∞–º –º–æ–∂–Ω–æ –¥–ª—è –Ω–µ–≥–æ –≤—ã–ø—É—Å—Ç–∏—Ç—å –∫–ª—é—á –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ json (–Ω–µ –∑–∞–±—É–¥—å—Ç–µ –¥–∞—Ç—å –≤–∞—à–µ–º—É –∞–∫–∫–∞—É–Ω—Ç—É –¥–æ—Å—Ç—É–ø –¥–æ –ø–∞–ø–∫–∏)

```
DRIVE_JSON_KEY='–í–∞—à json key'
DRIVE_FOLDER_ID='–≤–∞—à id –ø–∞–ø–∫–∏'

APOLLO_URL="http://apollo:8000"

TELEGRAM_TOKEN="–í–∞—à —Ç–æ–∫–µ–Ω"

S3_URL="http://minio:9000"
S3_ACCESS_KEY="hermes"
S3_SECRET_KEY="password"
S3_BUCKET="hermes"

DATABASE_URL="postgresql://hermes:password@postgres:5432/hermes?sslmode=disable" # –∏–ª–∏ –≤–∞—à –ø–∞—Ä–æ–ª—å –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

```

### superset
```
SUPERSET_ADMIN_USERNAME=admin # –≤–∞—à –ª–æ–≥–∏–Ω
SUPERSET_ADMIN_FIRSTNAME=Superset
SUPERSET_ADMIN_LASTNAME=Admin
SUPERSET_ADMIN_EMAIL=admin@superset.com
SUPERSET_ADMIN_PASSWORD=admin # –≤–∞—à –ø–∞—Ä–æ–ª—å
SUPERSET_SECRET_KEY=z7FjK2pQ9xY0e4WbR8vNl3sD5mU1tA6y
SUPERSET_SQLALCHEMY_DATABASE_URI=postgresql://hermes:password@postgres:5432/hermes # –∏–ª–∏ –≤–∞—à –ø–∞—Ä–æ–ª—å –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
```


```
docker-compose up --build -d
```

- Swagger Apollo: http://localhost:8000/docs  
- Superset: http://localhost:8088  
- LangSmith: https://smith.langchain.com 
---

## üß∞ –û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ

```bash
# –ú–∏–≥—Ä–∞—Ü–∏–∏
cd backend/hermes
migrate -path ./migrations -database "postgres://hermes:password@localhost:5432/hermes?sslmode=disable" up

# –õ–æ–≥–∏
docker logs -f hermes
docker logs -f apollo

# –ü–µ—Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è QR-–∫–æ–¥–∞
rm -rf whatsapp-sessions
docker-compose restart hermes
```

---
### üíª Coding AI Assistants

–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ —Å–µ—Ä–≤–∏—Å–∞ **AgroAI Suite** –∞–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ AI-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–¥–∞ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ä–µ—à–µ–Ω–∏–π:

- ‚ö°Ô∏è **Cursor** ‚Äî AI-—Ä–µ–¥–∞–∫—Ç–æ—Ä –Ω–∞ –±–∞–∑–µ ChatGPT, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π IDE –¥–ª—è Go –∏ Python:
  - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Ñ—É–Ω–∫—Ü–∏–π,
  - —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–º—Ç–æ–≤ –∏ pydantic-–º–æ–¥–µ–ª–µ–π,
  - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏ README.

- ü§ñ **GitHub Copilot** ‚Äî –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞:
  - –ø–æ–º–æ–≥–∞–ª –ø—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ FastAPI-—ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ –∏ SQL-–∑–∞–ø—Ä–æ—Å–æ–≤,
  - —É—Å–∫–æ—Ä—è–ª —Ä–∞–±–æ—Ç—É —Å —Ç–∏–ø–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö –∏ —Å—Ö–µ–º–∞–º–∏.

---
### üë•¬†–ö–æ–º–∞–Ω–¥–∞ ```–ê–≥—Ä–æ–°–∞–µ–Ω—Ç–∏—Å—Ç—ã```

| –ò–º—è | –†–æ–ª—å | ¬†–ö–æ–º–ø–∞–Ω–∏—è | –¢–µ–ª–µ–≥—Ä–∞–º |
|-----|------|------------------------|----------|
| **–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –ò–≤–∞–Ω–æ–≤** | Team¬†Lead,¬†MLE | –°–ë–ï–† | @lild1tz |
| **–í–∞–ª–µ—Ä–∏–π –•–µ–≥–∞–π** | Go¬†Developer | –Ø–Ω–¥–µ–∫—Å, Backend Dev | @valerijhegaj |
| **–°–µ—Ä–≥–µ–π –î–µ–º–µ–Ω—Ç—å–µ–≤** | Product¬†Analyst | –¢‚Äë–ë–∞–Ω–∫ | @sdementev33 |

---

–°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è –≤ —Ä–∞–º–∫–∞—Ö LLM Coding Challenge –¥–ª—è –ê–≥—Ä–æ–ü—Ä–æ–≥—Ä–µ—Å—Å.
